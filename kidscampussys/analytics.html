<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Analytics | School Portal</title>
  <link rel="stylesheet" href="analytics.css"/>
</head>
<body>
  <div class="container">
    <a href="dashboard.html" class="back-link">← Back to Dashboard</a>
    <h1>Smart Analytics Dashboard</h1>

    <div class="filters">
      <select id="termSelect"><option value="">Select Term</option></select>
      <select id="classSelect"><option value="">Select Class</option></select>
      <select id="genderSelect">
        <option value="">All Genders</option>
        <option value="male">Male</option>
        <option value="female">Female</option>
        <option value="other">Other</option>
      </select>
      <select id="sectionSelect"><option value="">All Sections</option></select>
      <button id="loadAnalytics">Load</button>
    </div>
    <div class="refresh-controls">
  <label for="refreshInterval">Refresh every 
    <input id="refreshInterval" type="number" min="10" value="60"/>s
  </label>
  <button id="toggleRefresh">Pause</button>
</div>


    <div class="charts">
      <canvas id="lineChart"></canvas>
      <canvas id="barChart"></canvas>
      <canvas id="radarChart"></canvas>
    </div>

    <div class="summary">
      <h2>Top Performers</h2>
      <table id="topTable">
        <thead><tr><th>#</th><th>Name</th><th>Avg Score</th><th>Grade</th></tr></thead>
        <tbody></tbody>
      </table>

      <h2>Bottom Performers</h2>
      <table id="bottomTable">
        <thead><tr><th>#</th><th>Name</th><th>Avg Score</th><th>Grade</th></tr></thead>
        <tbody></tbody>
      </table>
    </div>

    <button id="downloadCsv" class="export-btn">Download CSV</button>
  </div>
<!-- analytics.html (within .charts div) -->
<canvas id="pieChart"></canvas>
<canvas id="heatmapChart"></canvas>

<!-- Auto‐refresh status -->
<p id="refreshStatus" class="refresh-status">Last updated: —</p>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="analytics.js"></script>
</body>
</html>
